{"head":{"title":"Phenomic FAQ about React","description":"I have a React warning about invalid checksum, what is wrong with my code? You might see something like The message is pretty clear. Youâ€¦"},"body":"<h2 id=\"i-have-a-react-warning-about-invalid-checksum-what-is-wrong-with-my-code\"><a href=\"#i-have-a-react-warning-about-invalid-checksum-what-is-wrong-with-my-code\" class=\"phenomic-HeadingAnchor\">#</a>I have a React warning about invalid checksum, what is wrong with my code?</h2>\n<p>You might see something like</p>\n<pre><code>Warning: React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n (client) .4&quot;&gt;Usage&lt;/a&gt;&lt;/nav&gt;&lt;noscript data-reacti\n (server) .4&quot;&gt;Usage&lt;/a&gt;&lt;/nav&gt;&lt;div data-reactid=&quot;.p1 phenomic.browser.js:1134:8\n</code></pre>\n<p>The message is pretty clear. You have to examine your code and check carefully\nwhat can be rendered differently. Feel free to ask for help on the support chat.</p>\n<p>Here are some common cases for this warning:</p>\n<h3 id=\"date-and-time\"><a href=\"#date-and-time\" class=\"phenomic-HeadingAnchor\">#</a>Date and time</h3>\n<p>Due to the different timezone between the build server and your visitors, generated\ndate and time can be different. To fix this, ensure that the timezone is\ncorrectly set.</p>\n<p>Example with <code>moment.js</code></p>\n<pre><code class=\"hljs language-diff\"><span class=\"hljs-deletion\">-- moment(data).format(\"DD MMM YYYY\")</span>\n<span class=\"hljs-addition\">++ moment(date).utc().format(\"DD MMM YYYY\")</span></code></pre>\n<h3 id=\"navigation-links-with-active-class\"><a href=\"#navigation-links-with-active-class\" class=\"phenomic-HeadingAnchor\">#</a>Navigation links with active class</h3>\n<p>With phenomic, a user can request a page with or without the trailing <code>index.html</code>.\nIf you are using <code>react-router</code> <code>&lt;Link /&gt;</code> component with the <code>activeClassName</code> property,\nReact will warn with the above message. We provided a <code>&lt;LinkWrapper /&gt;</code> component to\ncover this case.</p>\n<pre><code class=\"hljs language-diff\"><span class=\"hljs-deletion\">-- import { Link } from \"react-router\"</span>\n<span class=\"hljs-addition\">++ import { Link } from \"phenomic/lib/Link\"</span></code></pre>\n<h3 id=\"how-to-debug-this-checksum-issue\"><a href=\"#how-to-debug-this-checksum-issue\" class=\"phenomic-HeadingAnchor\">#</a>How to debug this checksum issue?</h3>\n<ul>\n<li>Take the rendered html (viewsource is your friend)</li>\n<li>In your developer tools, copy the HTML from the <code>&lt;html</code> node\n(something like right click &gt; &quot;Copy Outer HTML&quot; should exists)</li>\n<li>Beautify both result with the same tool\n(eg: <a href=\"https://atom.io/packages/atom-beautifier\">atom-beautifier</a>)</li>\n<li>\n<p>Make a diff (if you are a GUI guy, use\n<a href=\"https://www.diffchecker.com/\">diffchecker</a>).\nNotes:</p>\n<ul>\n<li>remove the beginning of each <code>data-reactid</code> to avoid a huge diff</li>\n<li>ignore the first huge <code>&lt;style&gt;</code> tag</li>\n<li>ignore diff related to the style of self-closing tag (html or xhtml) if\nyou have some</li>\n</ul>\n</li>\n</ul>\n<p>You should find the source of the error pretty quickly this way.</p>\n","rawBody":"\n## I have a React warning about invalid checksum, what is wrong with my code?\n\nYou might see something like\n\n```\nWarning: React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n (client) .4\">Usage</a></nav><noscript data-reacti\n (server) .4\">Usage</a></nav><div data-reactid=\".p1 phenomic.browser.js:1134:8\n```\n\nThe message is pretty clear. You have to examine your code and check carefully\nwhat can be rendered differently. Feel free to ask for help on the support chat.\n\nHere are some common cases for this warning:\n\n### Date and time\n\nDue to the different timezone between the build server and your visitors, generated\ndate and time can be different. To fix this, ensure that the timezone is\ncorrectly set.\n\nExample with `moment.js`\n\n```diff\n-- moment(data).format(\"DD MMM YYYY\")\n++ moment(date).utc().format(\"DD MMM YYYY\")\n```\n\n### Navigation links with active class\n\nWith phenomic, a user can request a page with or without the trailing `index.html`.\nIf you are using `react-router` `<Link />` component with the `activeClassName` property,\nReact will warn with the above message. We provided a `<LinkWrapper />` component to\ncover this case.\n\n```diff\n-- import { Link } from \"react-router\"\n++ import { Link } from \"phenomic/lib/Link\"\n```\n\n### How to debug this checksum issue?\n\n- Take the rendered html (viewsource is your friend)\n- In your developer tools, copy the HTML from the `<html` node\n  (something like right click > \"Copy Outer HTML\" should exists)\n- Beautify both result with the same tool\n  (eg: [atom-beautifier](https://atom.io/packages/atom-beautifier))\n- Make a diff (if you are a GUI guy, use\n  [diffchecker](https://www.diffchecker.com/)).\n  Notes:\n    - remove the beginning of each `data-reactid` to avoid a huge diff\n    - ignore the first huge `<style>` tag\n    - ignore diff related to the style of self-closing tag (html or xhtml) if\n      you have some\n\nYou should find the source of the error pretty quickly this way.\n","raw":"---\ntitle: Phenomic FAQ about React\n---\n\n## I have a React warning about invalid checksum, what is wrong with my code?\n\nYou might see something like\n\n```\nWarning: React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n (client) .4\">Usage</a></nav><noscript data-reacti\n (server) .4\">Usage</a></nav><div data-reactid=\".p1 phenomic.browser.js:1134:8\n```\n\nThe message is pretty clear. You have to examine your code and check carefully\nwhat can be rendered differently. Feel free to ask for help on the support chat.\n\nHere are some common cases for this warning:\n\n### Date and time\n\nDue to the different timezone between the build server and your visitors, generated\ndate and time can be different. To fix this, ensure that the timezone is\ncorrectly set.\n\nExample with `moment.js`\n\n```diff\n-- moment(data).format(\"DD MMM YYYY\")\n++ moment(date).utc().format(\"DD MMM YYYY\")\n```\n\n### Navigation links with active class\n\nWith phenomic, a user can request a page with or without the trailing `index.html`.\nIf you are using `react-router` `<Link />` component with the `activeClassName` property,\nReact will warn with the above message. We provided a `<LinkWrapper />` component to\ncover this case.\n\n```diff\n-- import { Link } from \"react-router\"\n++ import { Link } from \"phenomic/lib/Link\"\n```\n\n### How to debug this checksum issue?\n\n- Take the rendered html (viewsource is your friend)\n- In your developer tools, copy the HTML from the `<html` node\n  (something like right click > \"Copy Outer HTML\" should exists)\n- Beautify both result with the same tool\n  (eg: [atom-beautifier](https://atom.io/packages/atom-beautifier))\n- Make a diff (if you are a GUI guy, use\n  [diffchecker](https://www.diffchecker.com/)).\n  Notes:\n    - remove the beginning of each `data-reactid` to avoid a huge diff\n    - ignore the first huge `<style>` tag\n    - ignore diff related to the style of self-closing tag (html or xhtml) if\n      you have some\n\nYou should find the source of the error pretty quickly this way.\n","__filename":"docs/faq/react.md","__url":"/docs/faq/react/","__resourceUrl":"/docs/faq/react/index.html","__dataUrl":"/docs/faq/react/index.html.ef4843f9f21fda50c192a499c23e03b7.json"}